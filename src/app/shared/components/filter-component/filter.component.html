<h2 mat-dialog-title>Filter Table Data</h2>

<mat-dialog-content>
    <form [formGroup]="filterForm" class="flex flex-col gap-4 w-full">

        <!-- Dynamic Autocomplete Fields for Each Filterable Column -->
        <div *ngFor="let column of filterableColumns" class="w-full">
            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Filter by {{ column.header }}</mat-label>
                <input matInput [formControlName]="column.field" [matAutocomplete]="auto"
                    placeholder="Type to search..." />
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayWith">
                    <mat-option *ngFor="let option of filteredOptions[column.field] | async" [value]="option.value">
                        {{ option.label }}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
        </div>

    </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="close()">Cancel</button>
    <button mat-raised-button color="primary" (click)="applyFilter()">Apply Filters</button>
</mat-dialog-actions>
