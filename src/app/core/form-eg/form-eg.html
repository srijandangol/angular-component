<div class="min-h-screen bg-gray-50 flex items-center justify-center py-10 px-4">
  <div class="max-w-3xl w-full bg-white p-8 rounded-3xl shadow-xl border border-gray-200">

    <!-- Heading -->
    <h2 class="text-3xl font-extrabold text-gray-800 text-center mb-10">
      User Registration
    </h2>

    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="space-y-6">

      <!-- Full Name -->
      <div>
        <app-input-text label="Full Name" placeholder="Enter your full name" type="text"
          [value]="myForm.get('fullName')?.value" (valueChange)="myForm.get('fullName')?.setValue($event)">
        </app-input-text>
        <div *ngIf="submitted && myForm.get('fullName')?.invalid" class="text-red-500 text-sm mt-1">
          <span *ngIf="myForm.get('fullName')?.errors?.['required']">Full name is required</span>
          <span *ngIf="myForm.get('fullName')?.errors?.['minlength']">Name must be at least 3 characters</span>
        </div>
      </div>

      <!-- Email -->
      <div>
        <app-input-text label="Email" placeholder="Enter your email" type="email" [value]="myForm.get('email')?.value"
          (valueChange)="myForm.get('email')?.setValue($event)">
        </app-input-text>
        <div *ngIf="submitted && myForm.get('email')?.invalid" class="text-red-500 text-sm mt-1">
          <span *ngIf="myForm.get('email')?.errors?.['required']">Email is required</span>
          <span *ngIf="myForm.get('email')?.errors?.['email']">Please enter a valid email</span>
        </div>
      </div>

      <!-- Phone -->
      <div>
        <app-input-text label="Phone Number" placeholder="Enter your 10-digit phone number" type="tel"
          [value]="myForm.get('phone')?.value" (valueChange)="myForm.get('phone')?.setValue($event)">
        </app-input-text>
        <div *ngIf="submitted && myForm.get('phone')?.invalid" class="text-red-500 text-sm mt-1">
          <span *ngIf="myForm.get('phone')?.errors?.['required']">Phone number is required</span>
          <span *ngIf="myForm.get('phone')?.errors?.['pattern']">Please enter a valid 10-digit phone number</span>
        </div>
      </div>

      <!-- Province Dropdown -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Province</label>
        <select formControlName="province"
          class="w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white"
          [class.bg-gray-100]="isLoading">
          <option [ngValue]="null" disabled>Select a province</option>
          <option *ngFor="let province of provinces" [ngValue]="province.id">
            {{ province.name }}
          </option>
        </select>
        <div *ngIf="submitted && myForm.get('province')?.invalid" class="text-red-500 text-sm mt-1">
          Please select a province
        </div>
      </div>

      <!-- District Dropdown -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">District</label>
        <select formControlName="district"
          class="w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white"
          [class.bg-gray-100]="!myForm.get('province')?.value || isLoading">
          <option [ngValue]="null" disabled>Select a district</option>
          <option *ngFor="let district of districts" [ngValue]="district">
            {{ district }}
          </option>
        </select>
        <div *ngIf="submitted && myForm.get('district')?.invalid" class="text-red-500 text-sm mt-1">
          Please select a district
        </div>
      </div>

      <!-- Checkboxes -->
      <div class="space-y-4 pt-2">
        <app-checkbox label="I agree to the terms and conditions" [checked]="myForm.get('terms')?.value"
          (checkedChange)="myForm.get('terms')?.setValue($event)">
        </app-checkbox>
        <div *ngIf="submitted && myForm.get('terms')?.invalid" class="text-red-500 text-sm -mt-3">
          You must accept the terms and conditions
        </div>

        <app-checkbox label="Subscribe to newsletter" [checked]="myForm.get('notifications')?.value"
          (checkedChange)="myForm.get('notifications')?.setValue($event)">
        </app-checkbox>
      </div>

      <!-- Form Actions -->
      <div class="flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-200">
        <app-button label="Cancel" buttonType="secondary" (click)="onCancel()" type="button" [disabled]="isLoading">
        </app-button>

        <app-button [label]="isLoading ? 'Processing...' : 'Submit'" buttonType="primary" type="submit"
          [loading]="isLoading" [disabled]="isLoading">
        </app-button>
      </div>

    </form>
  </div>
</div>
